---
layout:     post
title:      dumpsys
subtitle:   android debug
date:       2018-09-27
author:     LXG
header-img: img/post-bg-android.jpg
catalog: true
tags:
    - Android
    - debug
    - dumpsys
---

## dumpsys -l


| 服务名          | 类名                                | 功能               | 详细信息        |
|:---------------:|:------------------------------:|:----------------:|:----------------:|
| activity       | ActivityManagerService | AMS相关信息 |
| package     | PackageManagerService | PMS相关信息 |
| ethernet     | EthernetService | 有线网 |
| device_policy     | DevicePolicyManagerService | 设备管理器 |
| deviceidle     | DeviceIdleController | 电池优化 |
| usb     | UsbService | usb设备相关 |
| connectivity     | ConnectivityService | 连接管理 |
| appops     | AppOpsService | 应用权限管理 | data/system/appops.xml |


### AMS

```txt

130|L2K:/ # dumpsys package -h
Package manager dump options:
  [-h] [-f] [--checkin] [cmd] ...
    --checkin: dump for a checkin
    -f: print details of intent filters       // dumpsys 指定信息
    -h: print this help
  cmd may be one of:
    l[ibraries]: list known shared libraries  // 共享库
    f[eatures]: list device features          // 设备feature
    k[eysets]: print known keysets            //
    r[esolvers] [activity|service|receiver|content]: dump intent resolvers    // IntentResolver
    perm[issions]: dump permissions                                           // 权限
    permission [name ...]: dump declaration and use of given permission       // 指定权限
    pref[erred]: print preferred package settings                             // 默认指定应用，例如默认短信
    preferred-xml [--full]: print preferred package settings as xml
    prov[iders]: dump content providers
    p[ackages]: dump installed packages
    s[hared-users]: dump shared user IDs                                      // share uid
    m[essages]: print collected runtime messages                              // 运行时的异常和警告信息
    v[erifiers]: print package verifier info
    d[omain-preferred-apps]: print domains preferred apps
    i[ntent-filter-verifiers]|ifv: print intent filter verifier info
    version: print database version info
    write: write current settings now
    installs: details about install sessions
    check-permission <permission> <package> [<user>]: does pkg hold perm?
    dexopt: dump dexopt state
    compiler-stats: dump compiler statistics
    <package.name>: info about given package

```



### 参考文章

[dumpsys命令用法](http://gityuan.com/2016/05/14/dumpsys-command/)

[阅读错误报告](https://source.android.google.cn/setup/read-bug-reports)

[官方教程](https://developer.android.com/studio/command-line/dumpsys)
