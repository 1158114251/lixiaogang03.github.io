---
layout:     post
title:      Chip
subtitle:   芯片
date:       2023-02-07
author:     LXG
header-img: img/post-bg-ioses.jpg
catalog: true
tags:
    - chip
---

参考书籍：《看懂芯片这么简单-华为麒麟团队》

## RK3588

![rk3588_arch](/images/rockchip/rk3588_arch.png)

## 名词

1. 晶体管
2. SOC
3. 集成
4. 封装
5. 能效：同等能源供应下，能进行更多的运算
6. 板级面积
7. EUV 极紫外光: 5nm工艺集成电路的加工制作
8. Modem: 调制解调器，数字信号和模拟信号双向转换的元器件

## 芯片设计

1. 了解和分析用户需求，确定芯片的框架
2. 制定实现规格的具体方案，建立系统级架构设计
3. 电路设计
4. EDA 仿真验证
5. 将RTL变成晶体管电路，得到晶体管电路布线图

## 芯片的制造

1. 在硅晶圆上涂布光刻胶
2. 使用特定的紫外光，透过印着预先设计好的电路的掩膜，照射在硅晶圆上
3. 曝光在紫外光线下的光刻胶被溶解掉，留下的图案是和掩膜一样的图形
4. 用化学物质溶解暴露出来的晶圆，留下光刻胶保护着的部分
5. 把硼或磷注入硅结构中，让硅结构具有晶体管的属性
6. 填充铜，用来和其他晶体管互联
7. 最后，再在上面涂一层胶，重复前面的步骤。一般芯片会有几十层结构。

## 封装测试

1. 对硅晶圆切片, 在芯片上盖一层蓝膜，防止切片后散落
2. 使用金属导线将芯片上的连接点同引线框上的引脚进行连接
3. 将装配好芯片的引线框放到模具中，再将封装材料加温注入模具，形成外壳

## 专业词汇

1. 芯片园：晶圆加工厂
2. 工艺库
3. Floorplaning 布局规划
4. 硅晶圆
5. 架构
6. 华为达芬奇架构： 华为自研的面向AI计算的全新架构
7. NPU (Neural-Network Processing Unit) 神经网络处理器，专门用于硬件加速人工智能相关的运算
8. GPU (Graphics Processing Unit) 图形处理器
9. 接口信号：MIPI USB等
10. 门电路：数字电路中用于进行最基本逻辑运算的最小单位
11. 时钟信号
12. 硬件描述语言
13. EDA 电子设计自动化
14. GDS 物理版图：经过重重设计之后最终确定的集成电路设计的平面描述
15. Tapeout: 流片，芯片设计完成之后，交付加工厂进行生产的最后一个阶段
16. 回片：在流片过程中，如果需要修改，描述此过程
17. 裸片： 即将进入封装环节的芯片
18. 蚀刻：利用化学手段对硅晶圆表面进行腐蚀，去除不需要的部分，这样去除的部分就可以掺杂其他元素形成半导体元器件了。
19. 光刻：在硅晶圆上利用光刻胶绘制集成电路图样的过程，通过光照的方式腐蚀光刻胶，从而确定需要蚀刻的部分，最终形成大规模集成电路
20. 光刻胶：一种对光敏感的混合液体
21. 掩膜：集成电路的底片，上边描绘的图形可以用于光刻过程中确定需要腐蚀和保留的部分
22. 切片：将经过光刻，蚀刻的完整硅晶片进行切割，形成单个裸晶圆的过程

## 存储器

**闪存：NAND颗粒、控制器芯片、接口**

1. NAND颗粒：存储器的载体，决定存储容量大小，质量决定了读写次数(使用寿命)
2. 控制器芯片： NAND颗粒的调度员，对稳定性和传输速度有重要影响
3. 接口： 传输数据的通路，对存储器的传输速度有决定性影响

**闪存分类**

1. EMMC: 8bit 并行接口，可以理解为单向道路，并且车辆必须并行，标准理论值最高可以达到3200Mbit/s
2. UFS: 全双通串行接口，可以理解为正逆双向通路，速度更快
3. NVMe： 2015年，iPhone和Android手机在闪存的使用上开始分道扬镳，Andriod手机纷纷选择了UFS，而iPhone则采用了定制的NVMe

## CPU

指令调度中心，一般有多个核心， 例如 rk3399 有4个A76大核，有4个A55小核

[ARM架构](https://www.arm.com/product-filter?families=cortex-a&showall=true)

## GPU

1. 游戏图形处理
2. 图像处理
3. 辅助运算
4. 高清视频解码

## ISP

Image Signal Processor 主要用来处理前端图像信号，它能够将光信号变成电信号，是图像处理的核心器件，其性能直接影响手机的拍照、摄像效果

**拍照步骤**

1. 镜头(Lens) 会首先把被摄景物投影在图像传感器上
2. 图像处理器(ISP) 会通过测光、测距算出合适的参数并指示镜头对焦
3. 按照拍照按钮，图像传感器完成一次曝光
4. 图像处理器变成图片
5. 通过手机app的后期处理展示在屏幕上

**专业词汇**

1. 编码格式
2. 帧率
3. 运动估计：高效视频编码
4. 运动补偿：提高视频编码过程中的压缩比
5. 插帧：软件算法提高视频帧率，使视频更加流畅

## NPU

麒麟990 5G采用华为自研架构NPU, 创新设计NPU双大核 + NPU 微核架构

## DSP

DSP 作为一种应时代需求而生的微处理器，虽然是麻雀虽小、五脏俱全，但由于架构、指令集之间的差异，其能力与CPU大相径庭。
CPU 擅长控制处理多样化的重载任务，DSP 擅长各种数字信号相关的运算。

DSP 的核心频率是比较低的，因为以更高的频率运行时钟需要更高的电压，会导致功耗的迅速增长。因此为了兼顾高性能与低能耗，DSP选择进行更复杂的并行计算，在更短时间内以更高性能、更低功耗完成任务

## 5G Modem

BP: 主要负责通信的BP

## 射频芯片 RFIC

射频芯片的主要作用是收发射频，它能够将无线通信基带信号转成无线电射频信号波形，并通过天线谐振发送出去

**打电话工作步骤**

1. 语音转化成模拟信号
2. 基带将模拟信号转化为数字信号
3. 基带进行编码调制，原始信号变成真正的基带数字信号
4. 射频芯片将基带信号调制到高频，以减小天线的体积，华为Mate 30 Pro 5G 内置 21 根天线，其中14根用于5G
5. 调制后的射频信号，经过功率放大器的放大，前往天线
6. 射频信号会传输到附近的基站，经由运营商核网的配对，找到准确的路线，传输到另一个基站（中间可能有多个基站接力）
7. 另一个手机设备接收信号，经过射频解调，基带解码，还原声音信号

基带芯片 + 射频芯片 + 机身天线

5G 时代，射频研发更难。 5G的本质是多天线，多通道，并通过并行处理实现更大的数据吞吐量。但并行要求的提高，物理上需要射频支持的频段更多，制式更多，组合更多

## WIFI 蓝牙 GNSS

影响WIFI使用体验的因素

1. 入户带宽
2. 接入设备的数量
3. 光猫
4. 终端设备性能
5. 路由器的布局

Huawei Share: 蓝牙发现周围设备并握手，传输依靠速度更快点WIFI来完成

一碰就传输：通过 NFC 进行配对， 通过WIFI 实现多屏幕互动传输

卫星通信的缺点：卫星通信是微波通信的一种，只能直线传输，在室内，隧道内无法使用， 因此需要蜂窝网络，WIFI和蓝牙的帮助

1. 蜂窝网路定位： 设备在两个基站的相对位置进行定位
2. WIFI指纹定位：感知附近多个WIFI接入点的无线信号强度，通过三角定位算法或指纹定位算法，实现定位

## Cina DRM 认证

芯片如何保护数字版权

1. 用户权限校验
2. 权限校验通过后会下发数字钥匙
3. 需要数字钥匙和芯片内部的密码模块校验后才可以正常播放视频
4. 实现了设备级的管理

## ISP + NPU 融合架构

实现了智能影像
































































































































