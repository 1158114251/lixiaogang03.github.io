---
layout:     post
title:      RK3288
subtitle:   Rockchip 瑞芯微
date:       2021-04-10
author:     LXG
header-img: img/post-bg-Android.jpg
catalog: true
tags:
    - RK3288
---

[www.rock-chips.com](https://www.rock-chips.com/)

[Firefly-RK3288](https://wiki.t-firefly.com/zh_CN/Firefly-RK3288/started.html)

## 主版例子

http://www.graperain.cn/RK3288/RK3288-Development/

![rk3288](/images/rk3288/rk3288.jpg)

## 进入刷机模式

adb reboot loader

[RK3288烧写固件](https://www.jianshu.com/p/de340a1a1374)

## 序列号自定义

rk3288平台的serial number是由drmservice写进去的

**init.rk30board.rc**

./device/rockchip/common/init.rk30board.rc

```rc

# 当“sys.serialno”属性被设置时，会触发ro.serialno的更新
# set ro.serialno
on property:sys.serialno=*
    setprop ro.serialno ${sys.serialno}

service drmservice /system/bin/drmservice
        class main
        oneshot

```

**drmservice**

system/core/drmservice

```c

#define SERIALNO_FROM_IDB 0  //if 1 read sn from idb3;  if 0 generate sn auto

/** * Program entry pointer *
 * @return 0 for success, -1 for SLOGE
 */
int main( int argc, char *argv[] )
{

    //------------------------------------------------------------------------------

	if(SERIALNO_FROM_IDB)//read serialno form idb
	{
		vendor_storage_read_sn();
		property_set("sys.serialno", sn_buf_idb[0] ? sn_buf_idb : "");
                write_serialno2kernel(sn_buf_idb);
		SLOGE("get serialno from idb,serialno = %s",sn_buf_idb);
	}
	else//auto generate serialno
	{
		generate_device_serialno(10,sn_buf_auto);
		property_set("sys.serialno", sn_buf_auto[0] ? sn_buf_auto : "");
                write_serialno2kernel(sn_buf_auto);
		SLOGE("auto generate serialno,serialno = %s",sn_buf_auto);
	}

    //-----------------------------------------------------------------------------

}

```

## 串口调试

[Firefly-RK3288-串口调试](https://wiki.t-firefly.com/zh_CN/Firefly-RK3288/debug.html)




